<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>–û—Ç–∫—Ä–æ–π –ø–æ–¥–∞—Ä–æ–∫ üéÅ</h1>

        <button onclick="generateGift()">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫</button>

        <p id="result">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫</p>
    </div>

    <script src="script.js"></script>
    <button id="giftBtn" class="button" onclick="openGift()">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫ üéÅ</button>
</body>
    <script>
// --- –î–ê–¢–ê –ù–ê–ß–ê–õ–ê –û–¢–ù–û–®–ï–ù–ò–ô ---
const startDate = new Date("2021-12-21");

// --- –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –î–ù–ï–ô ---
function updateDaysTogether() {
    const now = new Date();
    const diff = now - startDate;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    document.getElementById("days").innerText = days;
}
updateDaysTogether();

// --- –°–ü–ò–°–û–ö –ü–û–î–ê–†–ö–û–í / –ó–ê–î–ê–ù–ò–ô ---
const gifts = [
    "–°–∫–∞–∑–∞—Ç—å –µ–π 10 –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤",
    "–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –µ–π —á—Ç–æ-—Ç–æ –≤–∫—É—Å–Ω–æ–µ",
    "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–π –≥–æ–ª–æ—Å–æ–≤–æ–µ –æ —Ç–æ–º, –∫–∞–∫ —Å–∏–ª—å–Ω–æ —Ç—ã –µ—ë –ª—é–±–∏—à—å",
    "–ü—Ä–æ–≤–µ—Å—Ç–∏ –≤–µ—á–µ—Ä —Ç–æ–ª—å–∫–æ –≤–¥–≤–æ—ë–º, –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
    "–ö—É–ø–∏—Ç—å –µ—ë –ª—é–±–∏–º—É—é –≤–∫—É—Å–Ω—è—à–∫—É",
    "–ù–∞–ø–∏—Å–∞—Ç—å –µ–π –ø–∏—Å—å–º–æ",
    "–°–¥–µ–ª–∞—Ç—å –º–∞—Å—Å–∞–∂",
    "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–º–µ—Å—Ç–µ —Ñ–∏–ª—å–º, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∞ –≤—ã–±–µ—Ä–µ—Ç",
    "–ü–æ–¥–∞—Ä–∏—Ç—å –µ–π 15 –º–∏–Ω—É—Ç –ø–æ–ª–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è",
    "–í—ã–±—Ä–∞—Ç—å –ø–µ—Å–Ω—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –Ω–µ–π, –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å"
];

// --- –õ–û–ì–ò–ö–ê –û–¢–ö–†–´–¢–ò–Ø –ü–û–î–ê–†–ö–ê –†–ê–ó –í 24 –ß–ê–°–ê ---
function openGift() {
    const lastOpen = localStorage.getItem("lastGift");

    if (lastOpen) {
        const diff = Date.now() - Number(lastOpen);
        const hours = diff / 3600000;

        if (hours < 24) {
            const remaining = Math.ceil(24 - hours);
            alert("–ü–æ–¥–∞—Ä–æ–∫ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ " + remaining + " —á–∞—Å–æ–≤!");
            return;
        }
    }

    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫
    const gift = gifts[Math.floor(Math.random() * gifts.length)];

    alert("üéÅ –ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –Ω–µ—ë: \n\n" + gift);

    localStorage.setItem("lastGift", Date.now());
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–Ω–æ–ø–∫–∏
function updateGiftButton() {
    const lastOpen = localStorage.getItem("lastGift");
    const btn = document.getElementById("giftBtn");

    if (!lastOpen) {
        btn.innerText = "–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫ üéÅ";
        btn.disabled = false;
        return;
    }

    const diff = Date.now() - Number(lastOpen);
    const hours = diff / 3600000;

    if (hours >= 24) {
        btn.innerText = "–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫ üéÅ";
        btn.disabled = false;
    } else {
        const remaining = 24 - hours;
        const h = Math.floor(remaining);
        const m = Math.floor((remaining - h) * 60);

        btn.innerText = –°–ª–µ–¥—É—é—â–∏–π –ø–æ–¥–∞—Ä–æ–∫ —á–µ—Ä–µ–∑ ${h}—á ${m}–º;
        btn.disabled = true;
    }
}

setInterval(updateGiftButton, 1000);
updateGiftButton();
</script>
</html>
